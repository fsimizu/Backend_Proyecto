paths:
  /api/users:
    get:
      summary: Retrieves all users regitered
      tags:
        - Users
      responses:
        "200":
          description: List of users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#components/schemas/User"
        "500":
          description: Unexpected error.
    delete:
      summary: Deletes all users that haven't had any activity
      tags:
        - Users
      responses:
        "200":
          description: Users deleted
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
  /api/users/{_id}:
    put:
      summary: Updates one user
      tags:
        - Users
      parameters:
        - name: uid
          in: path
          required: true
          description: ID of the user that wants to be edited
          schema:
            $type: String
      responses:
        "200":
          description: User updated successfully
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
        "500":
          description: Unexpected error.
    delete:
      summary: Deletes one user
      tags:
        - Users
      parameters:
        - name: _id
          in: path
          required: true
          description: ID of the user
          example: 64c63f3e15b412b708d37184
          schema:
            $type: String
      responses:
        "200":
          description: User deleted
          content:
            application/json:
              schema: 
                $ref: "#components/schemas/Success"
        "500":
          description: Unexpected error.

components:
  schemas:
    Success:
      type: object
      properties:
        status:
          type: String
          description: success or error
        message:
          type: String
          description: details of the response
      example:
        status: Success
        message: User created
        payload: 
          $ref: "#components/schemas/Success"
    User:
      type: object
      properties:
        _id:
          type: ObjectId
          description: ID autogenerated by Mongo
        firstName:
          type: String
          description: First name
        lastName:
          type: String
          description: Last name
        email:
          type: String
          description: user's email
        lastConnection:
          type: Datetime
          desctription: timestamp of the last connection
        cart:
          type: ObjectId
          description: cart id of the user
        role:
          type: String
          description: user's role

      example:
        _id: ObjectId("644081a93f0625dc193bc594")
        firstName: Adrian
        lastName: Campo
        email: atrian@gmail.com
        lastConnection: 2023-09-29T06:59:14.134Z
        cart: 65112058b657493802dfb7c3
        role: user